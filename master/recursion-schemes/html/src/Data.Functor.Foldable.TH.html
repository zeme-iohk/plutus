<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP, PatternGuards, Rank2Types #-}</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Functor.Foldable.TH</span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier">MakeBaseFunctor</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier">BaseRules</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRules"><span class="hs-identifier">baseRules</span></a></span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRulesType"><span class="hs-identifier">baseRulesType</span></a></span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRulesCon"><span class="hs-identifier">baseRulesCon</span></a></span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRulesField"><span class="hs-identifier">baseRulesField</span></a></span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Functor.Identity</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier">Language.Haskell.TH</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier">Language.Haskell.TH.Datatype</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH.Abs</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier">Language.Haskell.TH.Datatype.TyVarBndr</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier">mkNameG_tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier">mkNameG_v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Char</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">GeneralCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">generalCategory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../base-orphans/html/src"><span class="hs-identifier">Data.Orphans</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-cpp">
#ifndef CURRENT_PACKAGE_KEY
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Version</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">showVersion</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Paths_recursion_schemes</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">version</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#ifdef __HADDOCK__
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Functor.Foldable</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XTemplateHaskell -XTypeFamilies -XDeriveTraversable -XScopedTypeVariables</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Functor.Foldable</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- &gt;&gt;&gt; import Language.Haskell.TH (Q)</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- &gt;&gt;&gt; let asQ :: Q a -&gt; Q a; asQ = id</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- | Build base functor with a sensible default configuration.</span><span>
</span><span id="line-37"></span><span class="hs-comment">--</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- /e.g./</span><span>
</span><span id="line-39"></span><span class="hs-comment">--</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- data Expr a</span><span>
</span><span id="line-42"></span><span class="hs-comment">--     = Lit a</span><span>
</span><span id="line-43"></span><span class="hs-comment">--     | Add (Expr a) (Expr a)</span><span>
</span><span id="line-44"></span><span class="hs-comment">--     | Expr a :* [Expr a]</span><span>
</span><span id="line-45"></span><span class="hs-comment">--   deriving (Show)</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- 'makeBaseFunctor' ''Expr</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- will create</span><span>
</span><span id="line-51"></span><span class="hs-comment">--</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- data ExprF a x</span><span>
</span><span id="line-54"></span><span class="hs-comment">--     = LitF a</span><span>
</span><span id="line-55"></span><span class="hs-comment">--     | AddF x x</span><span>
</span><span id="line-56"></span><span class="hs-comment">--     | x :*$ [x]</span><span>
</span><span id="line-57"></span><span class="hs-comment">--   deriving ('Functor', 'Foldable', 'Traversable')</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- type instance 'Base' (Expr a) = ExprF a</span><span>
</span><span id="line-60"></span><span class="hs-comment">--</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- instance 'Recursive' (Expr a) where</span><span>
</span><span id="line-62"></span><span class="hs-comment">--     'project' (Lit x)   = LitF x</span><span>
</span><span id="line-63"></span><span class="hs-comment">--     'project' (Add x y) = AddF x y</span><span>
</span><span id="line-64"></span><span class="hs-comment">--     'project' (x :* y)  = x :*$ y</span><span>
</span><span id="line-65"></span><span class="hs-comment">--</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- instance 'Corecursive' (Expr a) where</span><span>
</span><span id="line-67"></span><span class="hs-comment">--     'embed' (LitF x)   = Lit x</span><span>
</span><span id="line-68"></span><span class="hs-comment">--     'embed' (AddF x y) = Add x y</span><span>
</span><span id="line-69"></span><span class="hs-comment">--     'embed' (x :*$ y)  = x :* y</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-71"></span><span class="hs-comment">--</span><span>
</span><span id="line-72"></span><span class="hs-comment">--</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- /Notes:/</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- 'makeBaseFunctor' works properly only with ADTs.</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- Existentials and GADTs aren't supported,</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- as we don't try to do better than</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- &lt;https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#deriving-functor-instances GHC's DeriveFunctor&gt;.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- Allowing 'makeBaseFunctor' to take both 'Name's and 'Dec's as an argument is why it exists as a method in a type class.</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- For trickier data-types, like rose-tree (see also 'Cofree'):</span><span>
</span><span id="line-82"></span><span class="hs-comment">--</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- data Rose f a = Rose a (f (Rose f a))</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-86"></span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- we can invoke 'makeBaseFunctor' with an instance declaration</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- to provide needed context for instances. (c.f. @StandaloneDeriving@)</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- 'makeBaseFunctor' [d| instance Functor f =&gt; Recursive (Rose f a) |]</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-93"></span><span class="hs-comment">--</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- will create</span><span>
</span><span id="line-95"></span><span class="hs-comment">--</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- data RoseF f a r = RoseF a (f fr)</span><span>
</span><span id="line-98"></span><span class="hs-comment">--   deriving ('Functor', 'Foldable', 'Traversable')</span><span>
</span><span id="line-99"></span><span class="hs-comment">--</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- type instance 'Base' (Rose f a) = RoseF f a</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- instance Functor f =&gt; 'Recursive' (Rose f a) where</span><span>
</span><span id="line-103"></span><span class="hs-comment">--   'project' (Rose x xs) = RoseF x xs</span><span>
</span><span id="line-104"></span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- instance Functor f =&gt; 'Corecursive' (Rose f a) where</span><span>
</span><span id="line-106"></span><span class="hs-comment">--   'embed' (RoseF x xs) = Rose x xs</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-108"></span><span class="hs-comment">--</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- Some doctests:</span><span>
</span><span id="line-110"></span><span class="hs-comment">--</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- &gt;&gt;&gt; data Expr a = Lit a | Add (Expr a) (Expr a) | Expr a :* [Expr a]; makeBaseFunctor ''Expr</span><span>
</span><span id="line-112"></span><span class="hs-comment">--</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- &gt;&gt;&gt; :t AddF</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- AddF :: r -&gt; r -&gt; ExprF a r</span><span>
</span><span id="line-115"></span><span class="hs-comment">--</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- &gt;&gt;&gt; data Rose f a = Rose a (f (Rose f a)); makeBaseFunctor $ asQ [d| instance Functor f =&gt; Recursive (Rose f a) |]</span><span>
</span><span id="line-117"></span><span class="hs-comment">--</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- &gt;&gt;&gt; :t RoseF</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- RoseF :: a -&gt; f r -&gt; RoseF f a r</span><span>
</span><span id="line-120"></span><span class="hs-comment">--</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- &gt;&gt;&gt; let rose = Rose 1 (Just (Rose 2 (Just (Rose 3 Nothing))))</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- &gt;&gt;&gt; cata (\(RoseF x f) -&gt; x + maybe 0 id f) rose</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- 6</span><span>
</span><span id="line-124"></span><span class="hs-comment">--</span><span>
</span><span id="line-125"></span><span class="hs-keyword">class</span><span> </span><span id="MakeBaseFunctor"><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-var">MakeBaseFunctor</span></a></span></span><span> </span><span id="local-6989586621679085698"><span class="annot"><a href="#local-6989586621679085698"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-comment">-- 'makeBaseFunctor' = 'makeBaseFunctorWith' 'baseRules'</span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-130"></span><span>    </span><span id="makeBaseFunctor"><span class="annot"><a href="Data.Functor.Foldable.TH.html#makeBaseFunctor"><span class="hs-identifier hs-type">makeBaseFunctor</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679085698"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">DecsQ</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679085514"><span class="annot"><a href="Data.Functor.Foldable.TH.html#makeBaseFunctor"><span class="hs-identifier hs-var hs-var">makeBaseFunctor</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. MakeBaseFunctor a =&gt; BaseRules -&gt; a -&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makeBaseFunctorWith"><span class="hs-identifier hs-var">makeBaseFunctorWith</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="Data.Functor.Foldable.TH.html#baseRules"><span class="hs-identifier hs-var">baseRules</span></a></span></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-comment">-- | Build base functor with a custom configuration.</span><span>
</span><span id="line-134"></span><span>    </span><span id="makeBaseFunctorWith"><span class="annot"><a href="Data.Functor.Foldable.TH.html#makeBaseFunctorWith"><span class="hs-identifier hs-type">makeBaseFunctorWith</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085698"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">DecsQ</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679085510"><span id="local-6989586621679085696"><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-type">MakeBaseFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085696"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-type">MakeBaseFunctor</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679085696"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679085502"><span class="annot"><span class="annottext">makeBaseFunctorWith :: BaseRules -&gt; [a] -&gt; DecsQ
</span><a href="#local-6989586621679085502"><span class="hs-identifier hs-var hs-var hs-var hs-var">makeBaseFunctorWith</span></a></span></span><span> </span><span id="local-6989586621679085501"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085501"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span id="local-6989586621679085500"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679085500"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">T.traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. MakeBaseFunctor a =&gt; BaseRules -&gt; a -&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makeBaseFunctorWith"><span class="hs-identifier hs-var">makeBaseFunctorWith</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085501"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679085500"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679085496"><span id="local-6989586621679085686"><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-type">MakeBaseFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085686"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-type">MakeBaseFunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085686"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621679085492"><span class="annot"><span class="annottext">makeBaseFunctorWith :: BaseRules -&gt; Q a -&gt; DecsQ
</span><a href="#local-6989586621679085492"><span class="hs-identifier hs-var hs-var hs-var hs-var">makeBaseFunctorWith</span></a></span></span><span> </span><span id="local-6989586621679085491"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085491"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span id="local-6989586621679085490"><span class="annot"><span class="annottext">Q a
</span><a href="#local-6989586621679085490"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. MakeBaseFunctor a =&gt; BaseRules -&gt; a -&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makeBaseFunctorWith"><span class="hs-identifier hs-var">makeBaseFunctorWith</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085491"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Q a
</span><a href="#local-6989586621679085490"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679085487"><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-type">MakeBaseFunctor</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>    </span><span id="local-6989586621679085484"><span class="annot"><span class="annottext">makeBaseFunctorWith :: BaseRules -&gt; Name -&gt; DecsQ
</span><a href="#local-6989586621679085484"><span class="hs-identifier hs-var hs-var hs-var hs-var">makeBaseFunctorWith</span></a></span></span><span> </span><span id="local-6989586621679085483"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span id="local-6989586621679085482"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085482"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q DatatypeInfo
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">reifyDatatype</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085482"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules -&gt; Maybe (Name -&gt; [Dec] -&gt; Dec) -&gt; DatatypeInfo -&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makePrimForDI"><span class="hs-identifier hs-var">makePrimForDI</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | Expects declarations of 'Recursive' or 'Corecursive' instances, e.g.</span><span>
</span><span id="line-146"></span><span class="hs-comment">--</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- makeBaseFunctor [d| instance Functor f =&gt; Recursive (Rose f a) |]</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-150"></span><span class="hs-comment">--</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- This way we can provide a context for generated instances.</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- Note that this instance's 'makeBaseFunctor' still generates all of</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- 'Base' type instance, 'Recursive' and 'Corecursive' instances.</span><span>
</span><span id="line-154"></span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679085478"><span class="annot"><a href="Data.Functor.Foldable.TH.html#MakeBaseFunctor"><span class="hs-identifier hs-type">MakeBaseFunctor</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,11,0)
</span><span>    </span><span id="local-6989586621679085468"><span class="annot"><span class="annottext">makeBaseFunctorWith :: BaseRules -&gt; Dec -&gt; DecsQ
</span><a href="#local-6989586621679085468"><span class="hs-identifier hs-var hs-var hs-var hs-var">makeBaseFunctorWith</span></a></span></span><span> </span><span id="local-6989586621679085467"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085467"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">InstanceD</span></a></span><span> </span><span id="local-6989586621679085465"><span class="annot"><span class="annottext">Maybe Overlap
</span><a href="#local-6989586621679085465"><span class="hs-identifier hs-var">overlaps</span></a></span></span><span> </span><span id="local-6989586621679085464"><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085464"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621679085463"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085463"><span class="hs-identifier hs-var">classHead</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-158"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085462"><span class="annot"><span class="annottext">instanceFor :: Type -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085462"><span class="hs-identifier hs-var hs-var">instanceFor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Overlap -&gt; Cxt -&gt; Type -&gt; [Dec] -&gt; Dec
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">InstanceD</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Overlap
</span><a href="#local-6989586621679085465"><span class="hs-identifier hs-var">overlaps</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085464"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-identifier">makeBaseFunctorWith</span><span> </span><span class="hs-identifier">rules</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">InstanceD</span><span> </span><span class="hs-identifier">ctx</span><span> </span><span class="hs-identifier">classHead</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-161"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">instanceFor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">InstanceD</span><span> </span><span class="hs-identifier">ctx</span><span class="hs-cpp">
#endif
</span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085463"><span class="hs-identifier hs-var">classHead</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-164"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">ConT</span></a></span><span> </span><span id="local-6989586621679085460"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085460"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-operator hs-type">`AppT`</span></a></span><span> </span><span id="local-6989586621679085458"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085458"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085460"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#recursiveTypeName"><span class="hs-identifier hs-var">recursiveTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085460"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#corecursiveTypeName"><span class="hs-identifier hs-var">corecursiveTypeName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-165"></span><span>              </span><span id="local-6989586621679085454"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085454"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Q Name
</span><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-var">headOfType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085458"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-166"></span><span>              </span><span id="local-6989586621679085452"><span class="annot"><span class="annottext">DatatypeInfo
</span><a href="#local-6989586621679085452"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q DatatypeInfo
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">reifyDatatype</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085454"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-167"></span><span>              </span><span class="annot"><span class="annottext">BaseRules -&gt; Maybe (Name -&gt; [Dec] -&gt; Dec) -&gt; DatatypeInfo -&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makePrimForDI"><span class="hs-identifier hs-var">makePrimForDI</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085467"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679085451"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085451"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085462"><span class="hs-identifier hs-var">instanceFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085451"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-operator hs-var">`AppT`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085458"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DatatypeInfo
</span><a href="#local-6989586621679085452"><span class="hs-identifier hs-var">di</span></a></span><span>
</span><span id="line-168"></span><span>          </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;makeBaseFunctor: expected an instance head like `ctx =&gt; Recursive (T a b ...)`, got &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085463"><span class="hs-identifier hs-var">classHead</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#makeBaseFunctorWith"><span class="hs-identifier hs-var">makeBaseFunctorWith</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Dec
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;makeBaseFunctor(With): expected an empty instance declaration&quot;</span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Rules of renaming data names</span><span>
</span><span id="line-173"></span><span class="hs-keyword">data</span><span> </span><span id="BaseRules"><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-var">BaseRules</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BaseRules"><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-var">BaseRules</span></a></span></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_baseRulesType"><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesType"><span class="hs-identifier hs-var hs-var">_baseRulesType</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_baseRulesCon"><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var hs-var">_baseRulesCon</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_baseRulesField"><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesField"><span class="hs-identifier hs-var hs-var">_baseRulesField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-comment">-- | Default 'BaseRules': append @F@ or @$@ to data type, constructors and field names.</span><span>
</span><span id="line-180"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRules"><span class="hs-identifier hs-type">baseRules</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span>
</span><span id="line-181"></span><span id="baseRules"><span class="annot"><span class="annottext">baseRules :: BaseRules
</span><a href="Data.Functor.Foldable.TH.html#baseRules"><span class="hs-identifier hs-var hs-var">baseRules</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_baseRulesType :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesType"><span class="hs-identifier hs-var">_baseRulesType</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#toFName"><span class="hs-identifier hs-var">toFName</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_baseRulesCon :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var">_baseRulesCon</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#toFName"><span class="hs-identifier hs-var">toFName</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_baseRulesField :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesField"><span class="hs-identifier hs-var">_baseRulesField</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#toFName"><span class="hs-identifier hs-var">toFName</span></a></span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | How to name the base functor type.</span><span>
</span><span id="line-188"></span><span class="hs-comment">--</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- Default is to append @F@ or @$@.</span><span>
</span><span id="line-190"></span><span id="local-6989586621679085668"><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRulesType"><span class="hs-identifier hs-type">baseRulesType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085668"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085668"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085668"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span></span><span>
</span><span id="line-191"></span><span id="baseRulesType"><span class="annot"><span class="annottext">baseRulesType :: forall (f :: * -&gt; *).
Functor f =&gt;
((Name -&gt; Name) -&gt; f (Name -&gt; Name)) -&gt; BaseRules -&gt; f BaseRules
</span><a href="Data.Functor.Foldable.TH.html#baseRulesType"><span class="hs-identifier hs-var hs-var">baseRulesType</span></a></span></span><span> </span><span id="local-6989586621679085442"><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; f (Name -&gt; Name)
</span><a href="#local-6989586621679085442"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679085441"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085441"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085440"><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085440"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085441"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_baseRulesType :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesType"><span class="hs-identifier hs-var">_baseRulesType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085440"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; f (Name -&gt; Name)
</span><a href="#local-6989586621679085442"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesType"><span class="hs-identifier hs-var">_baseRulesType</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085441"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- | How to rename the base functor type constructors.</span><span>
</span><span id="line-194"></span><span class="hs-comment">--</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- Default is to append @F@ or @$@.</span><span>
</span><span id="line-196"></span><span id="local-6989586621679085438"><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRulesCon"><span class="hs-identifier hs-type">baseRulesCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085438"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085438"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085438"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span></span><span>
</span><span id="line-197"></span><span id="baseRulesCon"><span class="annot"><span class="annottext">baseRulesCon :: forall (f :: * -&gt; *).
Functor f =&gt;
((Name -&gt; Name) -&gt; f (Name -&gt; Name)) -&gt; BaseRules -&gt; f BaseRules
</span><a href="Data.Functor.Foldable.TH.html#baseRulesCon"><span class="hs-identifier hs-var hs-var">baseRulesCon</span></a></span></span><span> </span><span id="local-6989586621679085435"><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; f (Name -&gt; Name)
</span><a href="#local-6989586621679085435"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679085434"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085434"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085433"><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085434"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_baseRulesCon :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var">_baseRulesCon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; f (Name -&gt; Name)
</span><a href="#local-6989586621679085435"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var">_baseRulesCon</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085434"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">-- | How to rename the base functor type field names (in records).</span><span>
</span><span id="line-200"></span><span class="hs-comment">--</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- Default is to append @F@ or @$@.</span><span>
</span><span id="line-202"></span><span id="local-6989586621679085432"><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseRulesField"><span class="hs-identifier hs-type">baseRulesField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span></span><span>
</span><span id="line-203"></span><span id="baseRulesField"><span class="annot"><span class="annottext">baseRulesField :: forall (f :: * -&gt; *).
Functor f =&gt;
((Name -&gt; Name) -&gt; f (Name -&gt; Name)) -&gt; BaseRules -&gt; f BaseRules
</span><a href="Data.Functor.Foldable.TH.html#baseRulesField"><span class="hs-identifier hs-var hs-var">baseRulesField</span></a></span></span><span> </span><span id="local-6989586621679085429"><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; f (Name -&gt; Name)
</span><a href="#local-6989586621679085429"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679085428"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085428"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085427"><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085427"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085428"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_baseRulesField :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesField"><span class="hs-identifier hs-var">_baseRulesField</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085427"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; f (Name -&gt; Name)
</span><a href="#local-6989586621679085429"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesField"><span class="hs-identifier hs-var">_baseRulesField</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085428"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#toFName"><span class="hs-identifier hs-type">toFName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-206"></span><span id="toFName"><span class="annot"><span class="annottext">toFName :: Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#toFName"><span class="hs-identifier hs-var hs-var">toFName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">mkName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621679085425"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">nameBase</span></a></span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>    </span><span id="local-6989586621679085425"><span class="annot"><span class="annottext">f :: String -&gt; String
</span><a href="#local-6989586621679085425"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679085423"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085423"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621679085422"><span class="hs-identifier hs-var">isInfixName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085423"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085423"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$&quot;</span></span><span>
</span><span id="line-209"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085423"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;F&quot;</span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><a href="#local-6989586621679085422"><span class="hs-identifier hs-type">isInfixName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621679085422"><span class="annot"><span class="annottext">isInfixName :: String -&gt; Bool
</span><a href="#local-6989586621679085422"><span class="hs-identifier hs-var hs-var">isInfixName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="Data.Functor.Foldable.TH.html#isSymbolChar"><span class="hs-identifier hs-var">isSymbolChar</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#makePrimForDI"><span class="hs-identifier hs-type">makePrimForDI</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span>
</span><span id="line-215"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ make instance</span><span>
</span><span id="line-216"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">DatatypeInfo</span></a></span><span>
</span><span id="line-217"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">DecsQ</span></a></span><span>
</span><span id="line-218"></span><span id="makePrimForDI"><span class="annot"><span class="annottext">makePrimForDI :: BaseRules -&gt; Maybe (Name -&gt; [Dec] -&gt; Dec) -&gt; DatatypeInfo -&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makePrimForDI"><span class="hs-identifier hs-var hs-var">makePrimForDI</span></a></span></span><span> </span><span id="local-6989586621679085419"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085419"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span id="local-6989586621679085418"><span class="annot"><span class="annottext">Maybe (Name -&gt; [Dec] -&gt; Dec)
</span><a href="#local-6989586621679085418"><span class="hs-identifier hs-var">mkInstance'</span></a></span></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">DatatypeInfo</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">datatypeName :: DatatypeInfo -&gt; Name
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">datatypeName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085415"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085415"><span class="hs-identifier hs-var">tyName</span></a></span></span><span>
</span><span id="line-220"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">datatypeInstTypes :: DatatypeInfo -&gt; Cxt
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">datatypeInstTypes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085413"><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085413"><span class="hs-identifier hs-var">instTys</span></a></span></span><span>
</span><span id="line-221"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">datatypeCons :: DatatypeInfo -&gt; [ConstructorInfo]
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">datatypeCons</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085411"><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085411"><span class="hs-identifier hs-var">cons</span></a></span></span><span>
</span><span id="line-222"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">datatypeVariant :: DatatypeInfo -&gt; DatatypeVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">datatypeVariant</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085409"><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="#local-6989586621679085409"><span class="hs-identifier hs-var">variant</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679085407"><span class="hs-identifier hs-var">isDataFamInstance</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;makeBaseFunctor: Data families are currently not supported.&quot;</span></span><span>
</span><span id="line-225"></span><span>    </span><span class="annot"><span class="annottext">BaseRules
-&gt; Maybe (Name -&gt; [Dec] -&gt; Dec)
-&gt; Bool
-&gt; Name
-&gt; [TyVarBndrUnit]
-&gt; [ConstructorInfo]
-&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makePrimForDI%27"><span class="hs-identifier hs-var">makePrimForDI'</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085419"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Name -&gt; [Dec] -&gt; Dec)
</span><a href="#local-6989586621679085418"><span class="hs-identifier hs-var">mkInstance'</span></a></span><span>
</span><span id="line-226"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="#local-6989586621679085409"><span class="hs-identifier hs-var">variant</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">Newtype</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085415"><span class="hs-identifier hs-var">tyName</span></a></span><span>
</span><span id="line-227"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TyVarBndrUnit
</span><a href="#local-6989586621679085404"><span class="hs-identifier hs-var">toTyVarBndr</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085413"><span class="hs-identifier hs-var">instTys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085411"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621679085407"><span class="annot"><span class="annottext">isDataFamInstance :: Bool
</span><a href="#local-6989586621679085407"><span class="hs-identifier hs-var hs-var">isDataFamInstance</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="#local-6989586621679085409"><span class="hs-identifier hs-var">variant</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>                          </span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">DataInstance</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-231"></span><span>                          </span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">NewtypeInstance</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-232"></span><span>                          </span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">Datatype</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-233"></span><span>                          </span><span class="annot"><span class="annottext">DatatypeVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">Newtype</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><a href="#local-6989586621679085404"><span class="hs-identifier hs-type">toTyVarBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">TyVarBndrUnit</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679085404"><span class="annot"><span class="annottext">toTyVarBndr :: Type -&gt; TyVarBndrUnit
</span><a href="#local-6989586621679085404"><span class="hs-identifier hs-var hs-var">toTyVarBndr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">VarT</span></a></span><span> </span><span id="local-6989586621679085399"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085399"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TyVarBndrUnit
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">plainTV</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085399"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="#local-6989586621679085404"><span class="hs-identifier hs-var">toTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">SigT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">VarT</span></a></span><span> </span><span id="local-6989586621679085396"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085396"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679085395"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085395"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type -&gt; TyVarBndrUnit
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">kindedTV</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085396"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085395"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="#local-6989586621679085404"><span class="hs-identifier hs-var">toTyVarBndr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;toTyVarBndr&quot;</span></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#makePrimForDI%27"><span class="hs-identifier hs-type">makePrimForDI'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#BaseRules"><span class="hs-identifier hs-type">BaseRules</span></a></span><span>
</span><span id="line-241"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ make instance</span><span>
</span><span id="line-242"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">TyVarBndrUnit</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-243"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">DecsQ</span></a></span><span>
</span><span id="line-244"></span><span id="makePrimForDI%27"><span class="annot"><span class="annottext">makePrimForDI' :: BaseRules
-&gt; Maybe (Name -&gt; [Dec] -&gt; Dec)
-&gt; Bool
-&gt; Name
-&gt; [TyVarBndrUnit]
-&gt; [ConstructorInfo]
-&gt; DecsQ
</span><a href="Data.Functor.Foldable.TH.html#makePrimForDI%27"><span class="hs-identifier hs-var hs-var">makePrimForDI'</span></a></span></span><span> </span><span id="local-6989586621679085392"><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span id="local-6989586621679085391"><span class="annot"><span class="annottext">Maybe (Name -&gt; [Dec] -&gt; Dec)
</span><a href="#local-6989586621679085391"><span class="hs-identifier hs-var">mkInstance'</span></a></span></span><span> </span><span id="local-6989586621679085390"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679085390"><span class="hs-identifier hs-var">isNewtype</span></a></span></span><span> </span><span id="local-6989586621679085389"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085389"><span class="hs-identifier hs-var">tyName</span></a></span></span><span> </span><span id="local-6989586621679085388"><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085388"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span id="local-6989586621679085387"><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085387"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-comment">-- variable parameters</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085386"><span class="annot"><span class="annottext">vars' :: Cxt
</span><a href="#local-6989586621679085386"><span class="hs-identifier hs-var hs-var">vars'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">VarT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall flag. [TyVarBndr_ flag] -&gt; [Name]
</span><a href="Data.Functor.Foldable.TH.html#typeVars"><span class="hs-identifier hs-var">typeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085388"><span class="hs-identifier hs-var">vars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-comment">-- Name of base functor</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085384"><span class="annot"><span class="annottext">tyNameF :: Name
</span><a href="#local-6989586621679085384"><span class="hs-identifier hs-var hs-var">tyNameF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesType"><span class="hs-identifier hs-var">_baseRulesType</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">rules</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085389"><span class="hs-identifier hs-var">tyName</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-comment">-- Recursive type</span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085383"><span class="annot"><span class="annottext">s :: Type
</span><a href="#local-6989586621679085383"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Cxt -&gt; Type
</span><a href="Data.Functor.Foldable.TH.html#conAppsT"><span class="hs-identifier hs-var">conAppsT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085389"><span class="hs-identifier hs-var">tyName</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085386"><span class="hs-identifier hs-var">vars'</span></a></span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-comment">-- Additional argument</span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621679085381"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085381"><span class="hs-identifier hs-var">rName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). Quote m =&gt; String -&gt; m Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">newName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;r&quot;</span></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085380"><span class="annot"><span class="annottext">r :: Type
</span><a href="#local-6989586621679085380"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">VarT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085381"><span class="hs-identifier hs-var">rName</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">-- Vars</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085379"><span class="annot"><span class="annottext">varsF :: [TyVarBndrUnit]
</span><a href="#local-6989586621679085379"><span class="hs-identifier hs-var hs-var">varsF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085388"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; TyVarBndrUnit
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">plainTV</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085381"><span class="hs-identifier hs-var">rName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-comment">-- #33</span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621679085378"><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085378"><span class="hs-identifier hs-var">cons'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Traversal' ConstructorInfo Type
</span><a href="Data.Functor.Foldable.TH.html#conTypeTraversal"><span class="hs-identifier hs-var">conTypeTraversal</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Q Type
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">resolveTypeSynonyms</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085387"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085373"><span class="annot"><span class="annottext">consF :: [Con]
</span><a href="#local-6989586621679085373"><span class="hs-identifier hs-var hs-var">consF</span></a></span></span><span>
</span><span id="line-260"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConstructorInfo -&gt; Con
</span><a href="Data.Functor.Foldable.TH.html#toCon"><span class="hs-identifier hs-var">toCon</span></a></span><span>
</span><span id="line-261"></span><span>          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; ConstructorInfo -&gt; ConstructorInfo
</span><a href="Data.Functor.Foldable.TH.html#conNameMap"><span class="hs-identifier hs-var">conNameMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var">_baseRulesCon</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; ConstructorInfo -&gt; ConstructorInfo
</span><a href="Data.Functor.Foldable.TH.html#conFieldNameMap"><span class="hs-identifier hs-var">conFieldNameMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesField"><span class="hs-identifier hs-var">_baseRulesField</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; ConstructorInfo -&gt; ConstructorInfo
</span><a href="Data.Functor.Foldable.TH.html#conTypeMap"><span class="hs-identifier hs-var">conTypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type -&gt; Type
</span><a href="Data.Functor.Foldable.TH.html#substType"><span class="hs-identifier hs-var">substType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085383"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085380"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085378"><span class="hs-identifier hs-var">cons'</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-comment">-- Data definition</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,12,0)
</span><span>    </span><span id="local-6989586621679085367"><span class="annot"><span class="annottext">Maybe DerivStrategy
</span><a href="#local-6989586621679085367"><span class="hs-identifier hs-var">derivStrat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-269"></span><span>      </span><span id="local-6989586621679085366"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679085366"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Extension -&gt; Q Bool
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">isExtEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="../../../../ghc/html/libraries/ghc-boot-th-9.2.5/src"><span class="hs-identifier hs-var">DerivingStrategies</span></a></span><span>
</span><span id="line-270"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679085366"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">DerivStrategy
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">StockStrategy</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-cpp">
#endif
</span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085362"><span class="annot"><span class="annottext">dataDec :: Dec
</span><a href="#local-6989586621679085362"><span class="hs-identifier hs-var hs-var">dataDec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621679085373"><span class="hs-identifier hs-var">consF</span></a></span><span> </span><span class="hs-keyword">of</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,11,0)
</span><span>            </span><span class="hs-special">[</span><span id="local-6989586621679085361"><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621679085361"><span class="hs-identifier hs-var">conF</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679085390"><span class="hs-identifier hs-var">isNewtype</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>                </span><span class="annot"><span class="annottext">Cxt
-&gt; Name
-&gt; [TyVarBndrUnit]
-&gt; Maybe Type
-&gt; Con
-&gt; [DerivClause]
-&gt; Dec
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">NewtypeD</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085384"><span class="hs-identifier hs-var">tyNameF</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085379"><span class="hs-identifier hs-var">varsF</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Con
</span><a href="#local-6989586621679085361"><span class="hs-identifier hs-var">conF</span></a></span><span> </span><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621679085359"><span class="hs-identifier hs-var">deriveds</span></a></span><span>
</span><span id="line-276"></span><span>            </span><span class="annot"><span class="annottext">[Con]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-277"></span><span>                </span><span class="annot"><span class="annottext">Cxt
-&gt; Name
-&gt; [TyVarBndrUnit]
-&gt; Maybe Type
-&gt; [Con]
-&gt; [DerivClause]
-&gt; Dec
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">DataD</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085384"><span class="hs-identifier hs-var">tyNameF</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085379"><span class="hs-identifier hs-var">varsF</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">[Con]
</span><a href="#local-6989586621679085373"><span class="hs-identifier hs-var">consF</span></a></span><span> </span><span class="annot"><span class="annottext">[DerivClause]
</span><a href="#local-6989586621679085359"><span class="hs-identifier hs-var">deriveds</span></a></span><span class="hs-cpp">
#else
</span><span>            </span><span class="hs-special">[</span><span class="hs-identifier">conF</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isNewtype</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-280"></span><span>                </span><span class="hs-identifier">NewtypeD</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">tyNameF</span><span> </span><span class="hs-identifier">varsF</span><span> </span><span class="hs-identifier">conF</span><span> </span><span class="hs-identifier">deriveds</span><span>
</span><span id="line-281"></span><span>            </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>                </span><span class="hs-identifier">DataD</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">tyNameF</span><span> </span><span class="hs-identifier">varsF</span><span> </span><span class="hs-identifier">consF</span><span> </span><span class="hs-identifier">deriveds</span><span class="hs-cpp">
#endif
</span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-285"></span><span>            </span><span id="local-6989586621679085359"><span class="annot"><span class="annottext">deriveds :: [DerivClause]
</span><a href="#local-6989586621679085359"><span class="hs-identifier hs-var hs-var">deriveds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,12,0)
</span><span>              </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Maybe DerivStrategy -&gt; Cxt -&gt; DerivClause
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">DerivClause</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DerivStrategy
</span><a href="#local-6989586621679085367"><span class="hs-identifier hs-var">derivStrat</span></a></span><span>
</span><span id="line-288"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#functorTypeName"><span class="hs-identifier hs-var">functorTypeName</span></a></span><span>
</span><span id="line-289"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#foldableTypeName"><span class="hs-identifier hs-var">foldableTypeName</span></a></span><span>
</span><span id="line-290"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#traversableTypeName"><span class="hs-identifier hs-var">traversableTypeName</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-cpp">
#elif MIN_VERSION_template_haskell(2,11,0)
</span><span>              </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">functorTypeName</span><span>
</span><span id="line-293"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">foldableTypeName</span><span>
</span><span id="line-294"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">traversableTypeName</span><span> </span><span class="hs-special">]</span><span class="hs-cpp">
#else
</span><span>              </span><span class="hs-special">[</span><span class="hs-identifier">functorTypeName</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">foldableTypeName</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">traversableTypeName</span><span class="hs-special">]</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-comment">-- type instance Base</span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621679085353"><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085353"><span class="hs-identifier hs-var">baseDec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe [Q TyVarBndrUnit] -&gt; [Q Type] -&gt; Q Type -&gt; DecQ
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">tySynInstDCompat</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#baseTypeName"><span class="hs-identifier hs-var">baseTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-301"></span><span>                                </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085383"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Cxt -&gt; Type
</span><a href="Data.Functor.Foldable.TH.html#conAppsT"><span class="hs-identifier hs-var">conAppsT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085384"><span class="hs-identifier hs-var">tyNameF</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085386"><span class="hs-identifier hs-var">vars'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679085350"><span class="hs-identifier hs-type">mkInstance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Dec</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span id="local-6989586621679085350"><span class="annot"><span class="annottext">mkInstance :: Name -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085350"><span class="hs-identifier hs-var hs-var">mkInstance</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Name -&gt; [Dec] -&gt; Dec)
</span><a href="#local-6989586621679085391"><span class="hs-identifier hs-var">mkInstance'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-305"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679085349"><span class="annot"><span class="annottext">Name -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085349"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085349"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-306"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Name -&gt; [Dec] -&gt; Dec)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679085348"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085348"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,11,0)
</span><span>                </span><span class="annot"><span class="annottext">Maybe Overlap -&gt; Cxt -&gt; Type -&gt; [Dec] -&gt; Dec
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">InstanceD</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085348"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-operator hs-var">`AppT`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085383"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span>                </span><span class="hs-identifier">InstanceD</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ConT</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">AppT</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-comment">-- instance Recursive</span><span>
</span><span id="line-314"></span><span>    </span><span id="local-6989586621679085347"><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085347"><span class="hs-identifier hs-var">projDec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Clause] -&gt; Dec
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">FunD</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#projectValName"><span class="hs-identifier hs-var">projectValName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; (Name -&gt; Name) -&gt; [ConstructorInfo] -&gt; Q [Clause]
</span><a href="Data.Functor.Foldable.TH.html#mkMorphism"><span class="hs-identifier hs-var">mkMorphism</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var">_baseRulesCon</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085378"><span class="hs-identifier hs-var">cons'</span></a></span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085342"><span class="annot"><span class="annottext">recursiveDec :: Dec
</span><a href="#local-6989586621679085342"><span class="hs-identifier hs-var hs-var">recursiveDec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085350"><span class="hs-identifier hs-var">mkInstance</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#recursiveTypeName"><span class="hs-identifier hs-var">recursiveTypeName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085347"><span class="hs-identifier hs-var">projDec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-comment">-- instance Corecursive</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621679085341"><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085341"><span class="hs-identifier hs-var">embedDec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Clause] -&gt; Dec
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">FunD</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#embedValName"><span class="hs-identifier hs-var">embedValName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; (Name -&gt; Name) -&gt; [ConstructorInfo] -&gt; Q [Clause]
</span><a href="Data.Functor.Foldable.TH.html#mkMorphism"><span class="hs-identifier hs-var">mkMorphism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseRules -&gt; Name -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#_baseRulesCon"><span class="hs-identifier hs-var">_baseRulesCon</span></a></span><span> </span><span class="annot"><span class="annottext">BaseRules
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085378"><span class="hs-identifier hs-var">cons'</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085339"><span class="annot"><span class="annottext">corecursiveDec :: Dec
</span><a href="#local-6989586621679085339"><span class="hs-identifier hs-var hs-var">corecursiveDec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Dec] -&gt; Dec
</span><a href="#local-6989586621679085350"><span class="hs-identifier hs-var">mkInstance</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Data.Functor.Foldable.TH.html#corecursiveTypeName"><span class="hs-identifier hs-var">corecursiveTypeName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085341"><span class="hs-identifier hs-var">embedDec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">-- Combine</span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">A.pure</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085362"><span class="hs-identifier hs-var">dataDec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085353"><span class="hs-identifier hs-var">baseDec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085342"><span class="hs-identifier hs-var">recursiveDec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679085339"><span class="hs-identifier hs-var">corecursiveDec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-comment">-- | makes clauses to rename constructors</span><span>
</span><span id="line-325"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#mkMorphism"><span class="hs-identifier hs-type">mkMorphism</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Clause</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-330"></span><span id="mkMorphism"><span class="annot"><span class="annottext">mkMorphism :: (Name -&gt; Name) -&gt; (Name -&gt; Name) -&gt; [ConstructorInfo] -&gt; Q [Clause]
</span><a href="Data.Functor.Foldable.TH.html#mkMorphism"><span class="hs-identifier hs-var hs-var">mkMorphism</span></a></span></span><span> </span><span id="local-6989586621679085338"><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085338"><span class="hs-identifier hs-var">nFrom</span></a></span></span><span> </span><span id="local-6989586621679085337"><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085337"><span class="hs-identifier hs-var">nTo</span></a></span></span><span> </span><span id="local-6989586621679085336"><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085336"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679085336"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679085334"><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085334"><span class="hs-identifier hs-var">ci</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085333"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679085333"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConstructorInfo -&gt; Name
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorName</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085334"><span class="hs-identifier hs-var">ci</span></a></span><span>
</span><span id="line-332"></span><span>    </span><span id="local-6989586621679085331"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085331"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Applicative m =&gt; Int -&gt; m a -&gt; m [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">replicateM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstructorInfo -&gt; Cxt
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorFields</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085334"><span class="hs-identifier hs-var">ci</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). Quote m =&gt; String -&gt; m Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">newName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;x&quot;</span></span><span class="hs-special">)</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,18,0)
</span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Pat] -&gt; Body -&gt; [Dec] -&gt; Clause
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">Clause</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; Cxt -&gt; [Pat] -&gt; Pat
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085338"><span class="hs-identifier hs-var">nFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085333"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Pat
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">VarP</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085331"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>                   </span><span class="hs-comment">-- patterns</span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">Clause</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">ConP</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">nFrom</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">VarP</span><span> </span><span class="hs-identifier">fs</span><span class="hs-special">)</span><span class="hs-special">]</span><span>                      </span><span class="hs-comment">-- patterns</span><span class="hs-cpp">
#endif
</span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp -&gt; Body
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">NormalB</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Exp -&gt; Exp -&gt; Exp
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Exp
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConE</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621679085337"><span class="hs-identifier hs-var">nTo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085333"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Exp
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085331"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- body</span><span>
</span><span id="line-339"></span><span>                  </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- where dec</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- Traversals</span><span>
</span><span id="line-343"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conNameTraversal"><span class="hs-identifier hs-type">conNameTraversal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#Traversal%27"><span class="hs-identifier hs-type">Traversal'</span></a></span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-346"></span><span id="conNameTraversal"><span class="annot"><span class="annottext">conNameTraversal :: Traversal' ConstructorInfo Name
</span><a href="Data.Functor.Foldable.TH.html#conNameTraversal"><span class="hs-identifier hs-var hs-var">conNameTraversal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; Lens' s a
</span><a href="Data.Functor.Foldable.TH.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorInfo -&gt; Name
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085313"><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085313"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679085312"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085312"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085313"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorName :: Name
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085312"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conFieldNameTraversal"><span class="hs-identifier hs-type">conFieldNameTraversal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#Traversal%27"><span class="hs-identifier hs-type">Traversal'</span></a></span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-349"></span><span id="conFieldNameTraversal"><span class="annot"><span class="annottext">conFieldNameTraversal :: Traversal' ConstructorInfo Name
</span><a href="Data.Functor.Foldable.TH.html#conFieldNameTraversal"><span class="hs-identifier hs-var hs-var">conFieldNameTraversal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; Lens' s a
</span><a href="Data.Functor.Foldable.TH.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorInfo -&gt; ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorVariant</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085305"><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085305"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679085304"><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679085304"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085305"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorVariant :: ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorVariant</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679085304"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>                      </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConstructorVariant Name
</span><a href="#local-6989586621679085303"><span class="hs-identifier hs-var">conVariantTraversal</span></a></span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><a href="#local-6989586621679085303"><span class="hs-identifier hs-type">conVariantTraversal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#Traversal%27"><span class="hs-identifier hs-type">Traversal'</span></a></span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorVariant</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-353"></span><span>    </span><span id="local-6989586621679085303"><span class="annot"><span class="annottext">conVariantTraversal :: Traversal' ConstructorVariant Name
</span><a href="#local-6989586621679085303"><span class="hs-identifier hs-var hs-var">conVariantTraversal</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; f Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">NormalConstructor</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">NormalConstructor</span></a></span><span>
</span><span id="line-354"></span><span>    </span><span class="annot"><a href="#local-6989586621679085303"><span class="hs-identifier hs-var">conVariantTraversal</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; f Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">InfixConstructor</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">InfixConstructor</span></a></span><span>
</span><span id="line-355"></span><span>    </span><span class="annot"><a href="#local-6989586621679085303"><span class="hs-identifier hs-var">conVariantTraversal</span></a></span><span> </span><span id="local-6989586621679085293"><span class="annot"><span class="annottext">Name -&gt; f Name
</span><a href="#local-6989586621679085293"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">RecordConstructor</span></a></span><span> </span><span id="local-6989586621679085291"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085291"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">RecordConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; f Name
</span><a href="#local-6989586621679085293"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085291"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conTypeTraversal"><span class="hs-identifier hs-type">conTypeTraversal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#Traversal%27"><span class="hs-identifier hs-type">Traversal'</span></a></span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-358"></span><span id="conTypeTraversal"><span class="annot"><span class="annottext">conTypeTraversal :: Traversal' ConstructorInfo Type
</span><a href="Data.Functor.Foldable.TH.html#conTypeTraversal"><span class="hs-identifier hs-var hs-var">conTypeTraversal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; Lens' s a
</span><a href="Data.Functor.Foldable.TH.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorInfo -&gt; Cxt
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorFields</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085285"><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085285"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679085284"><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085284"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConstructorInfo
</span><a href="#local-6989586621679085285"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorFields :: Cxt
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085284"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>                 </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conNameMap"><span class="hs-identifier hs-type">conNameMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span>
</span><span id="line-362"></span><span id="conNameMap"><span class="annot"><span class="annottext">conNameMap :: (Name -&gt; Name) -&gt; ConstructorInfo -&gt; ConstructorInfo
</span><a href="Data.Functor.Foldable.TH.html#conNameMap"><span class="hs-identifier hs-var hs-var">conNameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. Traversal' s a -&gt; (a -&gt; a) -&gt; s -&gt; s
</span><a href="Data.Functor.Foldable.TH.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConstructorInfo Name
</span><a href="Data.Functor.Foldable.TH.html#conNameTraversal"><span class="hs-identifier hs-var">conNameTraversal</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conFieldNameMap"><span class="hs-identifier hs-type">conFieldNameMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span>
</span><span id="line-365"></span><span id="conFieldNameMap"><span class="annot"><span class="annottext">conFieldNameMap :: (Name -&gt; Name) -&gt; ConstructorInfo -&gt; ConstructorInfo
</span><a href="Data.Functor.Foldable.TH.html#conFieldNameMap"><span class="hs-identifier hs-var hs-var">conFieldNameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. Traversal' s a -&gt; (a -&gt; a) -&gt; s -&gt; s
</span><a href="Data.Functor.Foldable.TH.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConstructorInfo Name
</span><a href="Data.Functor.Foldable.TH.html#conFieldNameTraversal"><span class="hs-identifier hs-var">conFieldNameTraversal</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conTypeMap"><span class="hs-identifier hs-type">conTypeMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span>
</span><span id="line-368"></span><span id="conTypeMap"><span class="annot"><span class="annottext">conTypeMap :: (Type -&gt; Type) -&gt; ConstructorInfo -&gt; ConstructorInfo
</span><a href="Data.Functor.Foldable.TH.html#conTypeMap"><span class="hs-identifier hs-var hs-var">conTypeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. Traversal' s a -&gt; (a -&gt; a) -&gt; s -&gt; s
</span><a href="Data.Functor.Foldable.TH.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConstructorInfo Type
</span><a href="Data.Functor.Foldable.TH.html#conTypeTraversal"><span class="hs-identifier hs-var">conTypeTraversal</span></a></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- Lenses</span><span>
</span><span id="line-372"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-keyword">type</span><span> </span><span id="Lens%27"><span class="annot"><a href="Data.Functor.Foldable.TH.html#Lens%27"><span class="hs-identifier hs-var">Lens'</span></a></span></span><span>      </span><span id="local-6989586621679085276"><span class="annot"><a href="#local-6989586621679085276"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679085275"><span class="annot"><a href="#local-6989586621679085275"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679085274"><span class="annot"><a href="#local-6989586621679085274"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span>     </span><span class="annot"><a href="#local-6989586621679085274"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679085275"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085274"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085275"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085276"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085274"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085276"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-375"></span><span class="hs-keyword">type</span><span> </span><span id="Traversal%27"><span class="annot"><a href="Data.Functor.Foldable.TH.html#Traversal%27"><span class="hs-identifier hs-var">Traversal'</span></a></span></span><span> </span><span id="local-6989586621679085273"><span class="annot"><a href="#local-6989586621679085273"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679085272"><span class="annot"><a href="#local-6989586621679085272"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679085271"><span class="annot"><a href="#local-6989586621679085271"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085271"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679085272"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085271"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085272"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085273"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085271"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085273"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621679085628"><span id="local-6989586621679085629"><span class="annot"><a href="Data.Functor.Foldable.TH.html#lens"><span class="hs-identifier hs-type">lens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679085629"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085628"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679085629"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085628"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085629"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085629"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085628"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-378"></span><span id="lens"><span class="annot"><span class="annottext">lens :: forall s a. (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; Lens' s a
</span><a href="Data.Functor.Foldable.TH.html#lens"><span class="hs-identifier hs-var hs-var">lens</span></a></span></span><span> </span><span id="local-6989586621679085266"><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679085266"><span class="hs-identifier hs-var">sa</span></a></span></span><span> </span><span id="local-6989586621679085265"><span class="annot"><span class="annottext">s -&gt; a -&gt; s
</span><a href="#local-6989586621679085265"><span class="hs-identifier hs-var">sas</span></a></span></span><span> </span><span id="local-6989586621679085264"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679085264"><span class="hs-identifier hs-var">afa</span></a></span></span><span> </span><span id="local-6989586621679085263"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679085263"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; a -&gt; s
</span><a href="#local-6989586621679085265"><span class="hs-identifier hs-var">sas</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679085263"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679085264"><span class="hs-identifier hs-var">afa</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679085266"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679085263"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#lens"><span class="hs-pragma hs-type">lens</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span id="local-6989586621679085621"><span id="local-6989586621679085622"><span class="annot"><a href="Data.Functor.Foldable.TH.html#over"><span class="hs-identifier hs-type">over</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#Traversal%27"><span class="hs-identifier hs-type">Traversal'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085622"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085621"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679085621"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085621"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085622"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679085622"><span class="hs-identifier hs-type">s</span></a></span></span></span><span>
</span><span id="line-382"></span><span id="over"><span class="annot"><span class="annottext">over :: forall s a. Traversal' s a -&gt; (a -&gt; a) -&gt; s -&gt; s
</span><a href="Data.Functor.Foldable.TH.html#over"><span class="hs-identifier hs-var hs-var">over</span></a></span></span><span> </span><span id="local-6989586621679085260"><span class="annot"><span class="annottext">Traversal' s a
</span><a href="#local-6989586621679085260"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679085259"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679085259"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Identity a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">runIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' s a
</span><a href="#local-6989586621679085260"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679085259"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Foldable.TH.html#over"><span class="hs-pragma hs-type">over</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-386"></span><span class="hs-comment">-- Type mangling</span><span>
</span><span id="line-387"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-type">headOfType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-390"></span><span id="headOfType"><span class="annot"><span class="annottext">headOfType :: Type -&gt; Q Name
</span><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-var hs-var">headOfType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">AppT</span></a></span><span> </span><span id="local-6989586621679085256"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085256"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Q Name
</span><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-var">headOfType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085256"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-391"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-var">headOfType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">VarT</span></a></span><span> </span><span id="local-6989586621679085255"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085255"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085255"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-392"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-var">headOfType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">ConT</span></a></span><span> </span><span id="local-6989586621679085254"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085254"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085254"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-393"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#headOfType"><span class="hs-identifier hs-var">headOfType</span></a></span><span> </span><span id="local-6989586621679085253"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085253"><span class="hs-identifier hs-var">t</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;headOfType: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085253"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-comment">-- | Extract type variables</span><span>
</span><span id="line-396"></span><span id="local-6989586621679085650"><span class="annot"><a href="Data.Functor.Foldable.TH.html#typeVars"><span class="hs-identifier hs-type">typeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">TyVarBndr_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085650"><span class="hs-identifier hs-type">flag</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-397"></span><span id="typeVars"><span class="annot"><span class="annottext">typeVars :: forall flag. [TyVarBndr_ flag] -&gt; [Name]
</span><a href="Data.Functor.Foldable.TH.html#typeVars"><span class="hs-identifier hs-var hs-var">typeVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall flag. TyVarBndr_ flag -&gt; Name
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">tvName</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- | Apply arguments to a type constructor.</span><span>
</span><span id="line-400"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#conAppsT"><span class="hs-identifier hs-type">conAppsT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-401"></span><span id="conAppsT"><span class="annot"><span class="annottext">conAppsT :: Name -&gt; Cxt -&gt; Type
</span><a href="Data.Functor.Foldable.TH.html#conAppsT"><span class="hs-identifier hs-var hs-var">conAppsT</span></a></span></span><span> </span><span id="local-6989586621679085251"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085251"><span class="hs-identifier hs-var">conName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">AppT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ConT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085251"><span class="hs-identifier hs-var">conName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="hs-comment">-- | Provides substitution for types</span><span>
</span><span id="line-404"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#substType"><span class="hs-identifier hs-type">substType</span></a></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-409"></span><span id="substType"><span class="annot"><span class="annottext">substType :: Type -&gt; Type -&gt; Type -&gt; Type
</span><a href="Data.Functor.Foldable.TH.html#substType"><span class="hs-identifier hs-var hs-var">substType</span></a></span></span><span> </span><span id="local-6989586621679085250"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085250"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679085249"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085249"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-411"></span><span>    </span><span id="local-6989586621679085248"><span class="annot"><span class="annottext">go :: Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679085245"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085245"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085245"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085250"><span class="hs-identifier hs-var">a</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085249"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">VarT</span></a></span><span> </span><span id="local-6989586621679085244"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085244"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">VarT</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085244"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">AppT</span></a></span><span> </span><span id="local-6989586621679085243"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085243"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679085242"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085242"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">AppT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085243"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085242"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">ForallT</span></a></span><span> </span><span id="local-6989586621679085240"><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621679085240"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621679085239"><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085239"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621679085238"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085238"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity] -&gt; Cxt -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ForallT</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr Specificity]
</span><a href="#local-6989586621679085240"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085239"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085238"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-comment">-- This may fail with kind error</span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">SigT</span></a></span><span> </span><span id="local-6989586621679085237"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085237"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679085236"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085236"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">SigT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085237"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085236"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,11,0)
</span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">InfixT</span></a></span><span> </span><span id="local-6989586621679085234"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085234"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679085233"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085233"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679085232"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085232"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">InfixT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085234"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085233"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085232"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">UInfixT</span></a></span><span> </span><span id="local-6989586621679085230"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085230"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679085229"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085229"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679085228"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085228"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">UInfixT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085230"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085229"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085228"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">ParensT</span></a></span><span> </span><span id="local-6989586621679085226"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085226"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">ParensT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085226"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>    </span><span class="hs-comment">-- Rest are unchanged</span><span>
</span><span id="line-423"></span><span>    </span><span class="annot"><a href="#local-6989586621679085248"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679085225"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085225"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085225"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#toCon"><span class="hs-identifier hs-type">toCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Con</span></a></span><span>
</span><span id="line-426"></span><span id="toCon"><span class="annot"><span class="annottext">toCon :: ConstructorInfo -&gt; Con
</span><a href="Data.Functor.Foldable.TH.html#toCon"><span class="hs-identifier hs-var hs-var">toCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">ConstructorInfo</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorName :: ConstructorInfo -&gt; Name
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorName</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085223"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085223"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-427"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorVars :: ConstructorInfo -&gt; [TyVarBndrUnit]
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorVars</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085221"><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085221"><span class="hs-identifier hs-var">vars</span></a></span></span><span>
</span><span id="line-428"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorContext :: ConstructorInfo -&gt; Cxt
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorContext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085219"><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085219"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span>
</span><span id="line-429"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorFields :: ConstructorInfo -&gt; Cxt
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorFields</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085218"><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085218"><span class="hs-identifier hs-var">ftys</span></a></span></span><span>
</span><span id="line-430"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorStrictness :: ConstructorInfo -&gt; [FieldStrictness]
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorStrictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085216"><span class="annot"><span class="annottext">[FieldStrictness]
</span><a href="#local-6989586621679085216"><span class="hs-identifier hs-var">fstricts</span></a></span></span><span>
</span><span id="line-431"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorVariant :: ConstructorInfo -&gt; ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">constructorVariant</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679085215"><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679085215"><span class="hs-identifier hs-var">variant</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndrUnit]
</span><a href="#local-6989586621679085221"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085219"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;makeBaseFunctor: GADTs are not currently supported.&quot;</span></span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-435"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085211"><span class="annot"><span class="annottext">bangs :: [Bang]
</span><a href="#local-6989586621679085211"><span class="hs-identifier hs-var hs-var">bangs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">FieldStrictness -&gt; Bang
</span><a href="#local-6989586621679085210"><span class="hs-identifier hs-var">toBang</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldStrictness]
</span><a href="#local-6989586621679085216"><span class="hs-identifier hs-var">fstricts</span></a></span><span>
</span><span id="line-436"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679085215"><span class="hs-identifier hs-var">variant</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-437"></span><span>          </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">NormalConstructor</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [BangType] -&gt; Con
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">NormalC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085223"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Bang]
</span><a href="#local-6989586621679085211"><span class="hs-identifier hs-var">bangs</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085218"><span class="hs-identifier hs-var">ftys</span></a></span><span>
</span><span id="line-438"></span><span>          </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">RecordConstructor</span></a></span><span> </span><span id="local-6989586621679085208"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085208"><span class="hs-identifier hs-var">fnames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [VarBangType] -&gt; Con
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">RecC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085223"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. [a] -&gt; [b] -&gt; [c] -&gt; [(a, b, c)]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">zip3</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679085208"><span class="hs-identifier hs-var">fnames</span></a></span><span> </span><span class="annot"><span class="annottext">[Bang]
</span><a href="#local-6989586621679085211"><span class="hs-identifier hs-var">bangs</span></a></span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085218"><span class="hs-identifier hs-var">ftys</span></a></span><span>
</span><span id="line-439"></span><span>          </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">InfixConstructor</span></a></span><span>
</span><span id="line-440"></span><span>            </span><span class="hs-glyph">|</span><span>  </span><span class="hs-special">[</span><span id="local-6989586621679085205"><span class="annot"><span class="annottext">Bang
</span><a href="#local-6989586621679085205"><span class="hs-identifier hs-var">bang1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085204"><span class="annot"><span class="annottext">Bang
</span><a href="#local-6989586621679085204"><span class="hs-identifier hs-var">bang2</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Bang]
</span><a href="#local-6989586621679085211"><span class="hs-identifier hs-var">bangs</span></a></span><span>
</span><span id="line-441"></span><span>            </span><span class="hs-special">,</span><span>  </span><span class="hs-special">[</span><span id="local-6989586621679085203"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085203"><span class="hs-identifier hs-var">fty1</span></a></span></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621679085202"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085202"><span class="hs-identifier hs-var">fty2</span></a></span></span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cxt
</span><a href="#local-6989586621679085218"><span class="hs-identifier hs-var">ftys</span></a></span><span>
</span><span id="line-442"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BangType -&gt; Name -&gt; BangType -&gt; Con
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">InfixC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bang
</span><a href="#local-6989586621679085205"><span class="hs-identifier hs-var">bang1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085203"><span class="hs-identifier hs-var">fty1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679085223"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bang
</span><a href="#local-6989586621679085204"><span class="hs-identifier hs-var">bang2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679085202"><span class="hs-identifier hs-var">fty2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>            </span><span class="hs-glyph">|</span><span>  </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-445"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;makeBaseFunctor: Encountered an InfixConstructor &quot;</span></span><span>
</span><span id="line-446"></span><span>                    </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;without exactly two fields&quot;</span></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_template_haskell(2,11,0)
</span><span>    </span><span id="local-6989586621679085210"><span class="annot"><span class="annottext">toBang :: FieldStrictness -&gt; Bang
</span><a href="#local-6989586621679085210"><span class="hs-identifier hs-var hs-var">toBang</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">FieldStrictness</span></a></span><span> </span><span id="local-6989586621679085199"><span class="annot"><span class="annottext">Unpackedness
</span><a href="#local-6989586621679085199"><span class="hs-identifier hs-var">upkd</span></a></span></span><span> </span><span id="local-6989586621679085198"><span class="annot"><span class="annottext">Strictness
</span><a href="#local-6989586621679085198"><span class="hs-identifier hs-var">strct</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness -&gt; SourceStrictness -&gt; Bang
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">Bang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unpackedness -&gt; SourceUnpackedness
</span><a href="#local-6989586621679085196"><span class="hs-identifier hs-var">toSourceUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">Unpackedness
</span><a href="#local-6989586621679085199"><span class="hs-identifier hs-var">upkd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>                                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Strictness -&gt; SourceStrictness
</span><a href="#local-6989586621679085195"><span class="hs-identifier hs-var">toSourceStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="#local-6989586621679085198"><span class="hs-identifier hs-var">strct</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><a href="#local-6989586621679085196"><span class="hs-identifier hs-type">toSourceUnpackedness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">Unpackedness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">SourceUnpackedness</span></a></span><span>
</span><span id="line-453"></span><span>        </span><span id="local-6989586621679085196"><span class="annot"><span class="annottext">toSourceUnpackedness :: Unpackedness -&gt; SourceUnpackedness
</span><a href="#local-6989586621679085196"><span class="hs-identifier hs-var hs-var">toSourceUnpackedness</span></a></span></span><span> </span><span class="annot"><span class="annottext">Unpackedness
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">UnspecifiedUnpackedness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">NoSourceUnpackedness</span></a></span><span>
</span><span id="line-454"></span><span>        </span><span class="annot"><a href="#local-6989586621679085196"><span class="hs-identifier hs-var">toSourceUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">Unpackedness
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">NoUnpack</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">SourceNoUnpack</span></a></span><span>
</span><span id="line-455"></span><span>        </span><span class="annot"><a href="#local-6989586621679085196"><span class="hs-identifier hs-var">toSourceUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">Unpackedness
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">Unpack</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceUnpackedness
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">SourceUnpack</span></a></span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span>        </span><span class="annot"><a href="#local-6989586621679085195"><span class="hs-identifier hs-type">toSourceStrictness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-type">Strictness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">SourceStrictness</span></a></span><span>
</span><span id="line-458"></span><span>        </span><span id="local-6989586621679085195"><span class="annot"><span class="annottext">toSourceStrictness :: Strictness -&gt; SourceStrictness
</span><a href="#local-6989586621679085195"><span class="hs-identifier hs-var hs-var">toSourceStrictness</span></a></span></span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">UnspecifiedStrictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">NoSourceStrictness</span></a></span><span>
</span><span id="line-459"></span><span>        </span><span class="annot"><a href="#local-6989586621679085195"><span class="hs-identifier hs-var">toSourceStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">Lazy</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">SourceLazy</span></a></span><span>
</span><span id="line-460"></span><span>        </span><span class="annot"><a href="#local-6989586621679085195"><span class="hs-identifier hs-var">toSourceStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="../../../../th-abstraction/html/src"><span class="hs-identifier hs-var">TH.Abs.Strict</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceStrictness
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">SourceStrict</span></a></span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-comment">-- On old versions of Template Haskell, there isn't as rich of strictness</span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-comment">-- information available, so the conversion is somewhat lossy. We try our</span><span>
</span><span id="line-464"></span><span>    </span><span class="hs-comment">-- best to recognize certain common combinations, and fall back to NotStrict</span><span>
</span><span id="line-465"></span><span>    </span><span class="hs-comment">-- in the event there's an exotic combination.</span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-identifier">toBang</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FieldStrictness</span><span> </span><span class="hs-identifier">UnspecifiedUnpackedness</span><span> </span><span class="hs-identifier">Strict</span><span class="hs-special">)</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IsStrict</span><span>
</span><span id="line-467"></span><span>    </span><span class="hs-identifier">toBang</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FieldStrictness</span><span> </span><span class="hs-identifier">UnspecifiedUnpackedness</span><span> </span><span class="hs-identifier">UnspecifiedStrictness</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NotStrict</span><span>
</span><span id="line-468"></span><span>    </span><span class="hs-identifier">toBang</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FieldStrictness</span><span> </span><span class="hs-identifier">Unpack</span><span> </span><span class="hs-identifier">Strict</span><span class="hs-special">)</span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Unpacked</span><span>
</span><span id="line-469"></span><span>    </span><span class="hs-identifier">toBang</span><span> </span><span class="hs-identifier">FieldStrictness</span><span class="hs-special">{</span><span class="hs-special">}</span><span>                                               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NotStrict</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-472"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- Compat from base-4.9</span><span>
</span><span id="line-474"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#isSymbolChar"><span class="hs-identifier hs-type">isSymbolChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-477"></span><span id="isSymbolChar"><span class="annot"><span class="annottext">isSymbolChar :: Char -&gt; Bool
</span><a href="Data.Functor.Foldable.TH.html#isSymbolChar"><span class="hs-identifier hs-var hs-var">isSymbolChar</span></a></span></span><span> </span><span id="local-6989586621679085182"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085182"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="Data.Functor.Foldable.TH.html#isPuncChar"><span class="hs-identifier hs-var">isPuncChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085182"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Char -&gt; GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">generalCategory</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085182"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-478"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">MathSymbol</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-479"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">CurrencySymbol</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-480"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">ModifierSymbol</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-481"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">OtherSymbol</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-482"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">DashPunctuation</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-483"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">OtherPunctuation</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085182"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'\&quot;&quot;</span></span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">ConnectorPunctuation</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085182"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-485"></span><span>    </span><span class="annot"><span class="annottext">GeneralCategory
</span><span class="hs-identifier">_</span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#isPuncChar"><span class="hs-identifier hs-type">isPuncChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-488"></span><span id="isPuncChar"><span class="annot"><span class="annottext">isPuncChar :: Char -&gt; Bool
</span><a href="Data.Functor.Foldable.TH.html#isPuncChar"><span class="hs-identifier hs-var hs-var">isPuncChar</span></a></span></span><span> </span><span id="local-6989586621679085171"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085171"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679085171"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;,;()[]{}`&quot;</span></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- Manually quoted names</span><span>
</span><span id="line-492"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- By manually generating these names we avoid needing to use the</span><span>
</span><span id="line-494"></span><span class="hs-comment">-- TemplateHaskell language extension when compiling this library.</span><span>
</span><span id="line-495"></span><span class="hs-comment">-- This allows the library to be used in stage1 cross-compilers.</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#rsPackageKey"><span class="hs-identifier hs-type">rsPackageKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-cpp">
#ifdef CURRENT_PACKAGE_KEY
</span><span id="rsPackageKey"><span class="annot"><span class="annottext">rsPackageKey :: String
</span><a href="Data.Functor.Foldable.TH.html#rsPackageKey"><span class="hs-identifier hs-var hs-var">rsPackageKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">CURRENT_PACKAGE_KEY</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">rsPackageKey</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;recursion-schemes-&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">showVersion</span><span> </span><span class="hs-identifier">version</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-504"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#mkRsName_tc"><span class="hs-identifier hs-type">mkRsName_tc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-505"></span><span id="mkRsName_tc"><span class="annot"><span class="annottext">mkRsName_tc :: String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_tc"><span class="hs-identifier hs-var hs-var">mkRsName_tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">mkNameG_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="Data.Functor.Foldable.TH.html#rsPackageKey"><span class="hs-identifier hs-var">rsPackageKey</span></a></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#mkRsName_v"><span class="hs-identifier hs-type">mkRsName_v</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-508"></span><span id="mkRsName_v"><span class="annot"><span class="annottext">mkRsName_v :: String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_v"><span class="hs-identifier hs-var hs-var">mkRsName_v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">mkNameG_v</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="Data.Functor.Foldable.TH.html#rsPackageKey"><span class="hs-identifier hs-var">rsPackageKey</span></a></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#baseTypeName"><span class="hs-identifier hs-type">baseTypeName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-511"></span><span id="baseTypeName"><span class="annot"><span class="annottext">baseTypeName :: Name
</span><a href="Data.Functor.Foldable.TH.html#baseTypeName"><span class="hs-identifier hs-var hs-var">baseTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_tc"><span class="hs-identifier hs-var">mkRsName_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Functor.Foldable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Base&quot;</span></span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#recursiveTypeName"><span class="hs-identifier hs-type">recursiveTypeName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-514"></span><span id="recursiveTypeName"><span class="annot"><span class="annottext">recursiveTypeName :: Name
</span><a href="Data.Functor.Foldable.TH.html#recursiveTypeName"><span class="hs-identifier hs-var hs-var">recursiveTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_tc"><span class="hs-identifier hs-var">mkRsName_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Functor.Foldable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Recursive&quot;</span></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#corecursiveTypeName"><span class="hs-identifier hs-type">corecursiveTypeName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-517"></span><span id="corecursiveTypeName"><span class="annot"><span class="annottext">corecursiveTypeName :: Name
</span><a href="Data.Functor.Foldable.TH.html#corecursiveTypeName"><span class="hs-identifier hs-var hs-var">corecursiveTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_tc"><span class="hs-identifier hs-var">mkRsName_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Functor.Foldable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Corecursive&quot;</span></span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#projectValName"><span class="hs-identifier hs-type">projectValName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-520"></span><span id="projectValName"><span class="annot"><span class="annottext">projectValName :: Name
</span><a href="Data.Functor.Foldable.TH.html#projectValName"><span class="hs-identifier hs-var hs-var">projectValName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_v"><span class="hs-identifier hs-var">mkRsName_v</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Functor.Foldable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;project&quot;</span></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#embedValName"><span class="hs-identifier hs-type">embedValName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-523"></span><span id="embedValName"><span class="annot"><span class="annottext">embedValName :: Name
</span><a href="Data.Functor.Foldable.TH.html#embedValName"><span class="hs-identifier hs-var hs-var">embedValName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Name
</span><a href="Data.Functor.Foldable.TH.html#mkRsName_v"><span class="hs-identifier hs-var">mkRsName_v</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Functor.Foldable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;embed&quot;</span></span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#functorTypeName"><span class="hs-identifier hs-type">functorTypeName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-526"></span><span id="functorTypeName"><span class="annot"><span class="annottext">functorTypeName :: Name
</span><a href="Data.Functor.Foldable.TH.html#functorTypeName"><span class="hs-identifier hs-var hs-var">functorTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">mkNameG_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;base&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.Base&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Functor&quot;</span></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#foldableTypeName"><span class="hs-identifier hs-type">foldableTypeName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-529"></span><span id="foldableTypeName"><span class="annot"><span class="annottext">foldableTypeName :: Name
</span><a href="Data.Functor.Foldable.TH.html#foldableTypeName"><span class="hs-identifier hs-var hs-var">foldableTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">mkNameG_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;base&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Foldable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Foldable&quot;</span></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="annot"><a href="Data.Functor.Foldable.TH.html#traversableTypeName"><span class="hs-identifier hs-type">traversableTypeName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-532"></span><span id="traversableTypeName"><span class="annot"><span class="annottext">traversableTypeName :: Name
</span><a href="Data.Functor.Foldable.TH.html#traversableTypeName"><span class="hs-identifier hs-var hs-var">traversableTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; Name
</span><a href="../../../../ghc/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier hs-var">mkNameG_tc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;base&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Traversable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Traversable&quot;</span></span><span>
</span><span id="line-533"></span></pre></body></html>