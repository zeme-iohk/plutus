<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Rank2Types, GADTs #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &gt;= 706
</span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#if defined(__GLASGOW_HASKELL__) &amp;&amp; __GLASGOW_HASKELL__ &gt;= 702
</span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span class="hs-cpp">
#endif
</span><span class="hs-comment">-------------------------------------------------------------------------------------------</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Copyright 	: 2008-2016 Edward Kmett</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- License	: BSD</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Maintainer	: Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Stability	: experimental</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Portability	: rank 2 types</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- * Right Kan Extensions</span><span>
</span><span id="line-19"></span><span class="hs-comment">-------------------------------------------------------------------------------------------</span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Functor.Kan.Ran</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier">Ran</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#toRan"><span class="hs-identifier">toRan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#fromRan"><span class="hs-identifier">fromRan</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#gran"><span class="hs-identifier">gran</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#composeRan"><span class="hs-identifier">composeRan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#decomposeRan"><span class="hs-identifier">decomposeRan</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#adjointToRan"><span class="hs-identifier">adjointToRan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToAdjoint"><span class="hs-identifier">ranToAdjoint</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#composedAdjointToRan"><span class="hs-identifier">composedAdjointToRan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToComposedAdjoint"><span class="hs-identifier">ranToComposedAdjoint</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#repToRan"><span class="hs-identifier">repToRan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToRep"><span class="hs-identifier">ranToRep</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#composedRepToRan"><span class="hs-identifier">composedRepToRan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToComposedRep"><span class="hs-identifier">ranToComposedRep</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier">Data.Functor.Adjunction</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../comonad/html/src"><span class="hs-identifier">Data.Functor.Composition</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Functor.Identity</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier">Data.Functor.Rep</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">-- | The right Kan extension of a 'Functor' h along a 'Functor' g.</span><span>
</span><span id="line-38"></span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span class="hs-comment">-- We can define a right Kan extension in several ways. The definition here is obtained by reading off</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- the definition in of a right Kan extension in terms of an End, but we can derive an equivalent definition</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- from the universal property.</span><span>
</span><span id="line-42"></span><span class="hs-comment">--</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- Given a 'Functor' @h : C -&gt; D@ and a 'Functor' @g : C -&gt; C'@, we want to extend @h@ /back/ along @g@</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- to give @Ran g h : C' -&gt; D@, such that the natural transformation @'gran' :: Ran g h (g a) -&gt; h a@ exists.</span><span>
</span><span id="line-45"></span><span class="hs-comment">--</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- In some sense this is trying to approximate the inverse of @g@ by using one of</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- its adjoints, because if the adjoint and the inverse both exist, they match!</span><span>
</span><span id="line-48"></span><span class="hs-comment">--</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- &gt; Hask -h-&gt; Hask</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- &gt;   |       +</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- &gt;   g      /</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- &gt;   |    Ran g h</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- &gt;   v    /</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- &gt; Hask -'</span><span>
</span><span id="line-55"></span><span class="hs-comment">--</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- The Right Kan extension is unique (up to isomorphism) by taking this as its universal property.</span><span>
</span><span id="line-57"></span><span class="hs-comment">--</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- That is to say given any @K : C' -&gt; D@ such that we have a natural transformation from @k.g@ to @h@</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- @(forall x. k (g x) -&gt; h x)@ there exists a canonical natural transformation from @k@ to @Ran g h@.</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- @(forall x. k x -&gt; Ran g h x)@.</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- We could literally read this off as a valid Rank-3 definition for 'Ran':</span><span>
</span><span id="line-63"></span><span class="hs-comment">--</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- data Ran' g h a = forall z. 'Functor' z =&gt; Ran' (forall x. z (g x) -&gt; h x) (z a)</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-67"></span><span class="hs-comment">--</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- This definition is isomorphic the simpler Rank-2 definition we use below as witnessed by the</span><span>
</span><span id="line-69"></span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- ranIso1 :: Ran g f x -&gt; Ran' g f x</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- ranIso1 (Ran e) = Ran' e id</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- ranIso2 :: Ran' g f x -&gt; Ran g f x</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- ranIso2 (Ran' h z) = Ran $ \\k -&gt; h (k \&lt;$\&gt; z)</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- ranIso2 (ranIso1 (Ran e)) &#8801; -- by definition</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- ranIso2 (Ran' e id) &#8801;       -- by definition</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- Ran $ \\k -&gt; e (k \&lt;$\&gt; id)    -- by definition</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- Ran $ \\k -&gt; e (k . id)      -- f . id = f</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- Ran $ \\k -&gt; e k             -- eta reduction</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- Ran e</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-88"></span><span class="hs-comment">--</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- The other direction is left as an exercise for the reader.</span><span>
</span><span id="line-90"></span><span class="hs-keyword">newtype</span><span> </span><span id="Ran"><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span></span><span> </span><span id="local-6989586621679090053"><span class="annot"><a href="#local-6989586621679090053"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679090052"><span class="annot"><a href="#local-6989586621679090052"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679090051"><span class="annot"><a href="#local-6989586621679090051"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Ran"><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRan"><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var hs-var">runRan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679090050"><span class="annot"><a href="#local-6989586621679090050"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679090051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679090053"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090050"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679090052"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090050"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679089876"><span id="local-6989586621679090038"><span id="local-6989586621679090039"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090039"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090038"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621679089874"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Ran g h a -&gt; Ran g h b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679089873"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679089873"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679089872"><span class="annot"><span class="annottext">Ran g h a
</span><a href="#local-6989586621679089872"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089871"><span class="annot"><span class="annottext">b -&gt; g b
</span><a href="#local-6989586621679089871"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="annot"><span class="annottext">Ran g h a
</span><a href="#local-6989586621679089872"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; g b
</span><a href="#local-6989586621679089871"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679089873"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-pragma hs-type">fmap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | The universal property of a right Kan extension.</span><span>
</span><span id="line-97"></span><span id="local-6989586621679090026"><span id="local-6989586621679090027"><span id="local-6989586621679090029"><span id="local-6989586621679090030"><span class="annot"><a href="Data.Functor.Kan.Ran.html#toRan"><span class="hs-identifier hs-type">toRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090030"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679090028"><span class="annot"><a href="#local-6989586621679090028"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679090030"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679090029"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090028"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679090027"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090028"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679090030"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090026"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090029"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090027"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090026"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-98"></span><span id="toRan"><span class="annot"><span class="annottext">toRan :: forall {k} (k :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) b.
Functor k =&gt;
(forall (a :: k). k (g a) -&gt; h a) -&gt; k b -&gt; Ran g h b
</span><a href="Data.Functor.Kan.Ran.html#toRan"><span class="hs-identifier hs-var hs-var">toRan</span></a></span></span><span> </span><span id="local-6989586621679089868"><span class="annot"><span class="annottext">forall (a :: k). k (g a) -&gt; h a
</span><a href="#local-6989586621679089868"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679089867"><span class="annot"><span class="annottext">k b
</span><a href="#local-6989586621679089867"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (a :: k). k (g a) -&gt; h a
</span><a href="#local-6989586621679089868"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">k b
</span><a href="#local-6989586621679089867"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#toRan"><span class="hs-pragma hs-type">toRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | 'toRan' and 'fromRan' witness a higher kinded adjunction. from @(`'Compose'` g)@ to @'Ran' g@</span><span>
</span><span id="line-102"></span><span class="hs-comment">--</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- 'toRan' . 'fromRan' &#8801; 'id'</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- 'fromRan' . 'toRan' &#8801; 'id'</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-107"></span><span id="local-6989586621679090011"><span id="local-6989586621679090012"><span id="local-6989586621679090013"><span id="local-6989586621679090015"><span class="annot"><a href="Data.Functor.Kan.Ran.html#fromRan"><span class="hs-identifier hs-type">fromRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679090014"><span class="annot"><a href="#local-6989586621679090014"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679090015"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090014"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090013"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090012"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090014"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679090015"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679090013"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090011"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679090012"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090011"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-108"></span><span id="fromRan"><span class="annot"><span class="annottext">fromRan :: forall {k} (k :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (b :: k).
(forall a. k a -&gt; Ran g h a) -&gt; k (g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#fromRan"><span class="hs-identifier hs-var hs-var">fromRan</span></a></span></span><span> </span><span id="local-6989586621679089864"><span class="annot"><span class="annottext">forall a. k a -&gt; Ran g h a
</span><a href="#local-6989586621679089864"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679089863"><span class="annot"><span class="annottext">k (g b)
</span><a href="#local-6989586621679089863"><span class="hs-identifier hs-var">kgb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. k a -&gt; Ran g h a
</span><a href="#local-6989586621679089864"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">k (g b)
</span><a href="#local-6989586621679089863"><span class="hs-identifier hs-var">kgb</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-109"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#fromRan"><span class="hs-pragma hs-type">fromRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- 'composeRan' . 'decomposeRan' &#8801; 'id'</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- 'decomposeRan' . 'composeRan' &#8801; 'id'</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-116"></span><span id="local-6989586621679089999"><span id="local-6989586621679090000"><span id="local-6989586621679090001"><span id="local-6989586621679090002"><span id="local-6989586621679090004"><span class="annot"><a href="Data.Functor.Kan.Ran.html#composeRan"><span class="hs-identifier hs-type">composeRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../comonad/html/src"><span class="hs-identifier hs-type">Composition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090004"><span class="hs-identifier hs-type">compose</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090002"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090001"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090000"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679089999"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679090004"><span class="hs-identifier hs-type">compose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090002"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679090001"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679090000"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089999"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-117"></span><span id="composeRan"><span class="annot"><span class="annottext">composeRan :: forall (compose :: (* -&gt; *) -&gt; (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) (h :: * -&gt; *) a.
Composition compose =&gt;
Ran f (Ran g h) a -&gt; Ran (compose f g) h a
</span><a href="Data.Functor.Kan.Ran.html#composeRan"><span class="hs-identifier hs-var hs-var">composeRan</span></a></span></span><span> </span><span id="local-6989586621679089860"><span class="annot"><span class="annottext">Ran f (Ran g h) a
</span><a href="#local-6989586621679089860"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089858"><span class="annot"><span class="annottext">a -&gt; compose f g b
</span><a href="#local-6989586621679089858"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="annot"><span class="annottext">Ran f (Ran g h) a
</span><a href="#local-6989586621679089860"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (o :: (* -&gt; *) -&gt; (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) x.
Composition o =&gt;
o f g x -&gt; f (g x)
</span><a href="../../../../comonad/html/src"><span class="hs-identifier hs-var">decompose</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; compose f g b
</span><a href="#local-6989586621679089858"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#composeRan"><span class="hs-pragma hs-type">composeRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span id="local-6989586621679089984"><span id="local-6989586621679089985"><span id="local-6989586621679089986"><span id="local-6989586621679089987"><span id="local-6989586621679089988"><span class="annot"><a href="Data.Functor.Kan.Ran.html#decomposeRan"><span class="hs-identifier hs-type">decomposeRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../comonad/html/src"><span class="hs-identifier hs-type">Composition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089988"><span class="hs-identifier hs-type">compose</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089987"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679089988"><span class="hs-identifier hs-type">compose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089986"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679089985"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089984"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089986"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089985"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679089984"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-121"></span><span id="decomposeRan"><span class="annot"><span class="annottext">decomposeRan :: forall (compose :: (* -&gt; *) -&gt; (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) (h :: * -&gt; *) a.
(Composition compose, Functor f) =&gt;
Ran (compose f g) h a -&gt; Ran f (Ran g h) a
</span><a href="Data.Functor.Kan.Ran.html#decomposeRan"><span class="hs-identifier hs-var hs-var">decomposeRan</span></a></span></span><span> </span><span id="local-6989586621679089854"><span class="annot"><span class="annottext">Ran (compose f g) h a
</span><a href="#local-6989586621679089854"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089853"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679089853"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089850"><span class="annot"><span class="annottext">b -&gt; g b
</span><a href="#local-6989586621679089850"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="annot"><span class="annottext">Ran (compose f g) h a
</span><a href="#local-6989586621679089854"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (o :: (* -&gt; *) -&gt; (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) x.
Composition o =&gt;
f (g x) -&gt; o f g x
</span><a href="../../../../comonad/html/src"><span class="hs-identifier hs-var">compose</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; g b
</span><a href="#local-6989586621679089850"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679089853"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#decomposeRan"><span class="hs-pragma hs-type">decomposeRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-125"></span><span class="hs-comment">--</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- 'adjointToRan' . 'ranToAdjoint' &#8801; 'id'</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- 'ranToAdjoint' . 'adjointToRan' &#8801; 'id'</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-130"></span><span id="local-6989586621679089970"><span id="local-6989586621679089972"><span id="local-6989586621679089973"><span class="annot"><a href="Data.Functor.Kan.Ran.html#adjointToRan"><span class="hs-identifier hs-type">adjointToRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Adjunction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089973"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089972"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089973"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089970"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089972"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089970"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-131"></span><span id="adjointToRan"><span class="annot"><span class="annottext">adjointToRan :: forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Adjunction f g =&gt;
f a -&gt; Ran g Identity a
</span><a href="Data.Functor.Kan.Ran.html#adjointToRan"><span class="hs-identifier hs-var hs-var">adjointToRan</span></a></span></span><span> </span><span id="local-6989586621679089847"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679089847"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089845"><span class="annot"><span class="annottext">a -&gt; g b
</span><a href="#local-6989586621679089845"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (u :: * -&gt; *) a b.
Adjunction f u =&gt;
(a -&gt; u b) -&gt; f a -&gt; b
</span><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-var">rightAdjunct</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; g b
</span><a href="#local-6989586621679089845"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679089847"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#adjointToRan"><span class="hs-pragma hs-type">adjointToRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span id="local-6989586621679089954"><span id="local-6989586621679089955"><span id="local-6989586621679089956"><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToAdjoint"><span class="hs-identifier hs-type">ranToAdjoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Adjunction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089956"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089955"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089955"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089954"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089956"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089954"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-135"></span><span id="ranToAdjoint"><span class="annot"><span class="annottext">ranToAdjoint :: forall (f :: * -&gt; *) (g :: * -&gt; *) a.
Adjunction f g =&gt;
Ran g Identity a -&gt; f a
</span><a href="Data.Functor.Kan.Ran.html#ranToAdjoint"><span class="hs-identifier hs-var hs-var">ranToAdjoint</span></a></span></span><span> </span><span id="local-6989586621679089840"><span class="annot"><span class="annottext">Ran g Identity a
</span><a href="#local-6989586621679089840"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Identity a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">runIdentity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="annot"><span class="annottext">Ran g Identity a
</span><a href="#local-6989586621679089840"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (u :: * -&gt; *) a.
Adjunction f u =&gt;
a -&gt; u (f a)
</span><a href="../../../../adjunctions/html/src"><span class="hs-keyword hs-var">unit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToAdjoint"><span class="hs-pragma hs-type">ranToAdjoint</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- 'composedAdjointToRan' . 'ranToComposedAdjoint' &#8801; 'id'</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- 'ranToComposedAdjoint' . 'composedAdjointToRan' &#8801; 'id'</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-144"></span><span id="local-6989586621679089945"><span id="local-6989586621679089946"><span id="local-6989586621679089947"><span id="local-6989586621679089948"><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToComposedAdjoint"><span class="hs-identifier hs-type">ranToComposedAdjoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Adjunction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089948"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089947"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089947"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089946"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089945"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089946"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679089948"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089945"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-145"></span><span id="ranToComposedAdjoint"><span class="annot"><span class="annottext">ranToComposedAdjoint :: forall (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *) a.
Adjunction f g =&gt;
Ran g h a -&gt; h (f a)
</span><a href="Data.Functor.Kan.Ran.html#ranToComposedAdjoint"><span class="hs-identifier hs-var hs-var">ranToComposedAdjoint</span></a></span></span><span> </span><span id="local-6989586621679089835"><span class="annot"><span class="annottext">Ran g h a
</span><a href="#local-6989586621679089835"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
Ran g h a -&gt; forall (b :: k). (a -&gt; g b) -&gt; h b
</span><a href="Data.Functor.Kan.Ran.html#runRan"><span class="hs-identifier hs-var">runRan</span></a></span><span> </span><span class="annot"><span class="annottext">Ran g h a
</span><a href="#local-6989586621679089835"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (u :: * -&gt; *) a.
Adjunction f u =&gt;
a -&gt; u (f a)
</span><a href="../../../../adjunctions/html/src"><span class="hs-keyword hs-var">unit</span></a></span><span>
</span><span id="line-146"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToComposedAdjoint"><span class="hs-pragma hs-type">ranToComposedAdjoint</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span id="local-6989586621679089937"><span id="local-6989586621679089938"><span id="local-6989586621679089939"><span id="local-6989586621679089940"><span class="annot"><a href="Data.Functor.Kan.Ran.html#composedAdjointToRan"><span class="hs-identifier hs-type">composedAdjointToRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Adjunction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089940"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089939"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089938"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089938"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679089940"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089937"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089939"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089938"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089937"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-149"></span><span id="composedAdjointToRan"><span class="annot"><span class="annottext">composedAdjointToRan :: forall (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *) a.
(Adjunction f g, Functor h) =&gt;
h (f a) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#composedAdjointToRan"><span class="hs-identifier hs-var hs-var">composedAdjointToRan</span></a></span></span><span> </span><span id="local-6989586621679089832"><span class="annot"><span class="annottext">h (f a)
</span><a href="#local-6989586621679089832"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089829"><span class="annot"><span class="annottext">a -&gt; g b
</span><a href="#local-6989586621679089829"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (u :: * -&gt; *) a b.
Adjunction f u =&gt;
(a -&gt; u b) -&gt; f a -&gt; b
</span><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-var">rightAdjunct</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; g b
</span><a href="#local-6989586621679089829"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">h (f a)
</span><a href="#local-6989586621679089832"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#composedAdjointToRan"><span class="hs-pragma hs-type">composedAdjointToRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-comment">-- | This is the natural transformation that defines a Right Kan extension.</span><span>
</span><span id="line-153"></span><span id="local-6989586621679089928"><span id="local-6989586621679089929"><span id="local-6989586621679089930"><span class="annot"><a href="Data.Functor.Kan.Ran.html#gran"><span class="hs-identifier hs-type">gran</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089930"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089929"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679089930"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089928"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089929"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089928"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-154"></span><span id="gran"><span class="annot"><span class="annottext">gran :: forall {k} (g :: k -&gt; *) (h :: k -&gt; *) (a :: k).
Ran g h (g a) -&gt; h a
</span><a href="Data.Functor.Kan.Ran.html#gran"><span class="hs-identifier hs-var hs-var">gran</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span id="local-6989586621679089828"><span class="annot"><span class="annottext">forall (b :: k). (g a -&gt; g b) -&gt; h b
</span><a href="#local-6989586621679089828"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (b :: k). (g a -&gt; g b) -&gt; h b
</span><a href="#local-6989586621679089828"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-155"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#gran"><span class="hs-pragma hs-type">gran</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span id="local-6989586621679089920"><span id="local-6989586621679089923"><span class="annot"><a href="Data.Functor.Kan.Ran.html#repToRan"><span class="hs-identifier hs-type">repToRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Representable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089923"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089923"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089920"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089923"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089920"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-158"></span><span id="repToRan"><span class="annot"><span class="annottext">repToRan :: forall (u :: * -&gt; *) a.
Representable u =&gt;
Rep u -&gt; a -&gt; Ran u Identity a
</span><a href="Data.Functor.Kan.Ran.html#repToRan"><span class="hs-identifier hs-var hs-var">repToRan</span></a></span></span><span> </span><span id="local-6989586621679089826"><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089826"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679089825"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089825"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679089823"><span class="annot"><span class="annottext">a -&gt; u b
</span><a href="#local-6989586621679089823"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Representable f =&gt; f a -&gt; Rep f -&gt; a
</span><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; u b
</span><a href="#local-6989586621679089823"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089825"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089826"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-159"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#repToRan"><span class="hs-pragma hs-type">repToRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span id="local-6989586621679089913"><span id="local-6989586621679089914"><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToRep"><span class="hs-identifier hs-type">ranToRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Representable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089914"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089914"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089913"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089914"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679089913"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-162"></span><span id="ranToRep"><span class="annot"><span class="annottext">ranToRep :: forall (u :: * -&gt; *) a.
Representable u =&gt;
Ran u Identity a -&gt; (Rep u, a)
</span><a href="Data.Functor.Kan.Ran.html#ranToRep"><span class="hs-identifier hs-var hs-var">ranToRep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span id="local-6989586621679089819"><span class="annot"><span class="annottext">forall b. (a -&gt; u b) -&gt; Identity b
</span><a href="#local-6989586621679089819"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Identity a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">runIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. (a -&gt; u b) -&gt; Identity b
</span><a href="#local-6989586621679089819"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089818"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089818"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Representable f =&gt; (Rep f -&gt; a) -&gt; f a
</span><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-var">tabulate</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679089816"><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089816"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089816"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089818"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToRep"><span class="hs-pragma hs-type">ranToRep</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621679089907"><span id="local-6989586621679089908"><span id="local-6989586621679089909"><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToComposedRep"><span class="hs-identifier hs-type">ranToComposedRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Representable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089909"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089909"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089908"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089907"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089908"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089909"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679089907"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-166"></span><span id="ranToComposedRep"><span class="annot"><span class="annottext">ranToComposedRep :: forall (u :: * -&gt; *) (h :: * -&gt; *) a.
Representable u =&gt;
Ran u h a -&gt; h (Rep u, a)
</span><a href="Data.Functor.Kan.Ran.html#ranToComposedRep"><span class="hs-identifier hs-var hs-var">ranToComposedRep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span id="local-6989586621679089813"><span class="annot"><span class="annottext">forall b. (a -&gt; u b) -&gt; h b
</span><a href="#local-6989586621679089813"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b. (a -&gt; u b) -&gt; h b
</span><a href="#local-6989586621679089813"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679089812"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089812"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Representable f =&gt; (Rep f -&gt; a) -&gt; f a
</span><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-var">tabulate</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679089811"><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089811"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089811"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089812"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#ranToComposedRep"><span class="hs-pragma hs-type">ranToComposedRep</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span id="local-6989586621679089901"><span id="local-6989586621679089902"><span id="local-6989586621679089903"><span class="annot"><a href="Data.Functor.Kan.Ran.html#composedRepToRan"><span class="hs-identifier hs-type">composedRepToRan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Representable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089903"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089902"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679089902"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089903"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679089901"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-type">Ran</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089903"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089902"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679089901"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-170"></span><span id="composedRepToRan"><span class="annot"><span class="annottext">composedRepToRan :: forall (u :: * -&gt; *) (h :: * -&gt; *) a.
(Representable u, Functor h) =&gt;
h (Rep u, a) -&gt; Ran u h a
</span><a href="Data.Functor.Kan.Ran.html#composedRepToRan"><span class="hs-identifier hs-var hs-var">composedRepToRan</span></a></span></span><span> </span><span id="local-6989586621679089808"><span class="annot"><span class="annottext">h (Rep u, a)
</span><a href="#local-6989586621679089808"><span class="hs-identifier hs-var">hfa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (g :: k -&gt; *) (h :: k -&gt; *) a.
(forall (b :: k). (a -&gt; g b) -&gt; h b) -&gt; Ran g h a
</span><a href="Data.Functor.Kan.Ran.html#Ran"><span class="hs-identifier hs-var">Ran</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679089805"><span class="annot"><span class="annottext">a -&gt; u b
</span><a href="#local-6989586621679089805"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679089804"><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089804"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679089803"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089803"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Representable f =&gt; f a -&gt; Rep f -&gt; a
</span><a href="../../../../adjunctions/html/src"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; u b
</span><a href="#local-6989586621679089805"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679089803"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rep u
</span><a href="#local-6989586621679089804"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">h (Rep u, a)
</span><a href="#local-6989586621679089808"><span class="hs-identifier hs-var">hfa</span></a></span><span>
</span><span id="line-171"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Functor.Kan.Ran.html#composedRepToRan"><span class="hs-pragma hs-type">composedRepToRan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-172"></span></pre></body></html>